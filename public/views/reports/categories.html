<md-content flex layout-padding ng-controller="category-reports-controller">
    <div class="overlay_loanding" ng-show="progress_ban"></div>
    <div class="modal_loanding" ng-show="progress_ban">
        <md-content layout-padding class="loanding_content">
            <div layout="row" layout-sm="column" layout-align="space-around">
                <md-progress-circular ng-disabled="!progress_ban" md-diameter="96" ></md-progress-circular>
            </div>
            <center><h1>Loanding...</h1></center>
        </md-content>
    </div>

    <md-toolbar class="md-primary">
        <div class="md-toolbar-tools">
            <section layout="row" layout-sm="column" layout-align="center left" layout-wrap>
                <md-button md-no-ink><i class="fa fa-tachometer" aria-hidden="true"></i> Dashboard</md-button>
                <md-button md-no-ink ng-disabled="true" style="color:white"> <i class="fa fa-sitemap" aria-hidden="true"></i> Reports by Category</md-button>
            </section>
        </div>
     </md-toolbar>

    <md-divider></md-divider>

    <div class="row">
        <div class="col-md-6">
            <div layout="row" layout-align="start center">
                <md-content class="md-padding" layout="column">
                    <h2 class="md-display-2"><i class="fa fa-sitemap" aria-hidden="true"></i>  Category Reports</h2>
                </md-content>
            </div>
        </div>
        <div class="col-md-6">
            <div layout="row" layout-align="end center">
                <md-content class="md-padding" layout="column">
                    <md-toolbar class="md-warn" layout-align="center center">
                        <h3 >
                            <md-button hide-sm href="#/"><i class="fa fa-list" aria-hidden="true"></i> Categories</md-button>
                            <md-button hide-sm href="#/category/new/"><i class="fa fa-plus-circle" aria-hidden="true"></i> New Category</md-button>
                            <md-button hide-sm href="#/support/category/"><i class="fa fa-wrench" aria-hidden="true"></i> Support</md-button>
                        </h3>
                    </md-toolbar>
                </md-content>
            </div>
        </div>
    </div>

    <hr>

    <div class="row">
        <div class="col-md-12">
            <div class="md-whiteframe-3dp" ng-cloak>
                <md-toolbar class="md-theme-light">
                    <h2 class="md-toolbar-tools">
                      <span> <i class="fa fa-line-chart" aria-hidden="true"></i> Sales</span>
                    </h2>
                </md-toolbar>
                <md-content flex layout-padding>
                    <div class="alert alert-danger" role="alert" ng-if="errors">
                        <strong>There were some errors</strong>
                        <p>{{errors}}</p>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-6">
                                    <h2>Top 10 With The Most Sales</h2>
                                    <hr>
                                    <canvas id="pie"
                                            class="chart chart-pie"
                                            chart-data="data"
                                            chart-labels="labels"
                                            chart-options="options"
                                            height="150">
                                    </canvas>
                                    <h2>Locations Compare</h2>
                                    <hr>
                                    <canvas id="bar"
                                            class="chart chart-bar"
                                            chart-data="data_compare"
                                            chart-labels="labels_compare"
                                            chart-series="series_compare">
                                    </canvas>
                                </div>
                                <div class="col-md-6">
                                    <div class="md-padding" ng-cloak>
                                        <div class="bottom-sheet-demo inset" layout="row" layout-sm="column" layout-align="center" >
                                            <md-input-container flex="30" ng-show="show_options">
                                              <label>ALL Locations</label>
                                              <md-select ng-model="selectedLocation">
                                                <md-option ng-repeat="o in locations_options" ng-value="$index">
                                                  {{o.name}}
                                                </md-option>
                                              </md-select>
                                            </md-input-container>
                                            <md-input-container flex="35">
                                                <label>First date</label>
                                                <md-datepicker ng-model="date_start"></md-datepicker>
                                            </md-input-container>
                                            <md-input-container flex="35">
                                                <label>Last Date</label>
                                                <md-datepicker ng-model="date_end"></md-datepicker>
                                            </md-input-container>
                                        </div>
                                    </div>

                                    <div grid-data grid-options="gridOptions" grid-actions="gridActions">
                                        <div layout-gt-sm="row" layout-sm="column" layout-align="center">
                                            <div flex-gt-sm="25" flex-sm="100" layout="row" layout-align="start center">
                                                <span>{{filtered.length}} items total</span>
                                            </div>
                                            <div flex-gt-sm="75" flex-xs="100">
                                                <div layout-xs="column" layout="row" layout-align-xs="end end" layout-align="end center">
                                                    <grid-pagination max-size="5"
                                                                     boundary-links="true"
                                                                     class="pagination mdl-shadow--2dp"
                                                                     ng-if="paginationOptions.totalItems  > paginationOptions.itemsPerPage"
                                                                     total-items="paginationOptions.totalItems"
                                                                     ng-model="paginationOptions.currentPage"
                                                                     ng-change="reloadGrid()"
                                                                     items-per-page="paginationOptions.itemsPerPage"></grid-pagination>
                                                    <md-input-container flex-offset-gt-xs="5" class="items-per-page">
                                                        <md-select ng-init="paginationOptions.itemsPerPage = '10'" ng-model="paginationOptions.itemsPerPage" ng-change="reloadGrid()">
                                                            <md-option ng-value="10">10</md-option>
                                                            <md-option ng-value="25">25</md-option>
                                                            <md-option ng-value="50">50</md-option>
                                                            <md-option ng-value="75">75</md-option>
                                                        </md-select>
                                                    </md-input-container>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <!-- sample table layout goes below, but remember that you can you any mark-up here. -->
                                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp">
                                                <thead>
                                                    <tr>
                                                        <th sortable="cate_id" class="sortable">
                                                            #
                                                        </th>
                                                        <th sortable="cate_name" class="sortable">
                                                            Name
                                                        </th>
                                                        <th sortable="qty" class="sortable">
                                                            Quantity
                                                        </th>
                                                        <th sortable="vta_neta" class="sortable">
                                                            Venta neta
                                                        </th>
                                                        <th sortable="tax1" class="sortable">
                                                            Tax 1
                                                        </th>
                                                        <th sortable="tax2" class="sortable">
                                                            Tax 2
                                                        </th>
                                                        <th sortable="tax3" class="sortable">
                                                            Tax 3
                                                        </th>
                                                        <th sortable='total.value' class="sortable">
                                                            Total
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr grid-item>
                                                        <td ng-bind="item.cate_id"></td>
                                                        <td ng-bind="item.cate_name"></td>
                                                        <td ng-bind="item.qty | number:2"></td>
                                                        <td ng-bind="item.vta_neta | number:2"></td>
                                                        <td ng-bind="item.tax1 | number:2"></td>
                                                        <td ng-bind="item.tax2 | number:2"></td>
                                                        <td ng-bind="item.tax3 | number:2"></td>
                                                        <td ng-bind="item.total | number:2"></td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="7" class="text-align-right"><b>Total</b></td>
                                                        <td>$ {{global_total | number : 2}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div layout-xs="column" layout="row" layout-align-xs="end end" layout-align="end center">
                                            <grid-pagination max-size="5"
                                                             boundary-links="true"
                                                             class="pagination"
                                                             ng-if="paginationOptions.totalItems  > paginationOptions.itemsPerPage"
                                                             total-items="paginationOptions.totalItems"
                                                             ng-model="paginationOptions.currentPage"
                                                             ng-change="reloadGrid()"
                                                             items-per-page="paginationOptions.itemsPerPage"></grid-pagination>
                                            <md-input-container flex-offset-gt-xs="5" class="items-per-page">
                                                <md-select ng-init="paginationOptions.itemsPerPage = '10'" ng-model="paginationOptions.itemsPerPage" ng-change="reloadGrid()">
                                                    <md-option ng-value="10">10</md-option>
                                                    <md-option ng-value="25">25</md-option>
                                                    <md-option ng-value="50">50</md-option>
                                                    <md-option ng-value="75">75</md-option>
                                                </md-select>
                                            </md-input-container>
                                        </div>
                                    </div>
                                    <div  class="md-padding" ng-cloak>
                                        <div class="bottom-sheet-demo inset" layout="row" layout-sm="column" layout-align="center" >
                                            <md-button flex="50" class="md-default md-raised" ng-click="export()"><i class="fa fa-download" aria-hidden="true"></i> Export Reports</md-button>
                                            <md-button flex="50" class="md-primary md-raised" ng-click="get_reports()"><i class="fa fa-cloud-download" aria-hidden="true"></i> Get Reports</md-button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </md-content>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="md-whiteframe-3dp" ng-cloak>
                <md-toolbar class="md-theme-light">
                    <h2 class="md-toolbar-tools">
                      <span> <i class="fa fa-list-ol" aria-hidden="true"></i> All</span>
                    </h2>
                </md-toolbar>
                <md-content flex layout-padding style="height:auto;">
                    <md-content layout="column" class="md-padding" style="height:100%">
                       <div class="wrapper">
                           <div class="md-padding" ng-cloak>
                               <div class="bottom-sheet-demo inset" layout="row" layout-sm="column" layout-align="center" >
                                   <md-input-container flex="50">
                                     <label>ALL Categories</label>
                                     <md-select ng-model="selectedCategory">
                                       <md-option ng-repeat="o in categories_options" ng-value="$index">
                                         {{o.name}}
                                       </md-option>
                                     </md-select>
                                   </md-input-container>
                                    <md-input-container class="md-block" flex="50" ng-show="show_options">
                                        <label>Search for items</label>
                                        <input ng-model="searchText" ng-change="search_item()">
                                    </md-input-container>
                               </div>
                           </div>


                         <div grid-data grid-options="tabs_grid_options" grid-actions="gridActions" ng-show="!progress_ban">
                             <div layout-gt-sm="row" layout-sm="column" layout-align="center">
                                 <div flex-gt-sm="25" flex-sm="100" layout="row" layout-align="start center">
                                     <span>{{filtered.length}} items total</span>
                                 </div>
                                 <div flex-gt-sm="75" flex-xs="100">
                                     <div layout-xs="column" layout="row" layout-align-xs="end end" layout-align="end center">
                                         <grid-pagination max-size="5"
                                                          boundary-links="true"
                                                          class="pagination mdl-shadow--2dp"
                                                          ng-if="paginationOptions.totalItems  > paginationOptions.itemsPerPage"
                                                          total-items="paginationOptions.totalItems"
                                                          ng-model="paginationOptions.currentPage"
                                                          ng-change="reloadGrid()"
                                                          items-per-page="paginationOptions.itemsPerPage"></grid-pagination>
                                         <md-input-container flex-offset-gt-xs="5" class="items-per-page">
                                             <md-select ng-init="paginationOptions.itemsPerPage = '10'" ng-model="paginationOptions.itemsPerPage" ng-change="reloadGrid()">
                                                 <md-option ng-value="10">10</md-option>
                                                 <md-option ng-value="25">25</md-option>
                                                 <md-option ng-value="50">50</md-option>
                                                 <md-option ng-value="75">75</md-option>
                                             </md-select>
                                         </md-input-container>
                                     </div>
                                 </div>
                             </div>
                             <div>
                                 <!-- sample table layout goes below, but remember that you can you any mark-up here. -->
                                 <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp">
                                     <thead>
                                         <tr>
                                             <th sortable="item_id" class="sortable">
                                                 ID
                                             </th>
                                             <th sortable="item_description" class="sortable">
                                                 Name
                                             </th>
                                             <th sortable="qty" class="sortable">
                                                 Quantity
                                             </th>
                                             <th sortable="sale_price" class="sortable">
                                                 Sale Price
                                             </th>
                                             <th sortable="vta_neta" class="sortable">
                                                 Venta Neta
                                             </th>
                                             <th sortable="tax1" class="sortable">
                                                 Tax 1
                                             </th>
                                             <th sortable="tax2" class="sortable">
                                                 Tax 2
                                             </th>
                                             <th sortable="tax3" class="sortable">
                                                 Tax 3
                                             </th>
                                             <th sortable='total' class="sortable">
                                                 Total
                                             </th>
                                         </tr>
                                     </thead>
                                     <tbody>
                                         <tr grid-item>
                                             <td ng-bind="item.item_id"></td>
                                             <td ng-bind="item.item_description"></td>
                                             <td ng-bind="item.qty | number:2"></td>
                                             <td ng-bind="item.sale_price | number:2"></td>
                                             <td ng-bind="item.vta_neta | number:2"></td>
                                             <td ng-bind="item.tax1 | number:2"></td>
                                             <td ng-bind="item.tax2 | number:2"></td>
                                             <td ng-bind="item.tax3 | number:2"></td>
                                             <td ng-bind="item.total | number:2"></td>
                                         </tr>
                                         <tr>
                                             <td colspan="8" class="text-align-right">Total</td>
                                             <td>$ {{selected_report_total | number : 2}}</td>
                                         </tr>
                                     </tbody>
                                 </table>
                             </div>
                             <div layout-xs="column" layout="row" layout-align-xs="end end" layout-align="end center">
                                 <grid-pagination max-size="5"
                                                  boundary-links="true"
                                                  class="pagination"
                                                  ng-if="paginationOptions.totalItems  > paginationOptions.itemsPerPage"
                                                  total-items="paginationOptions.totalItems"
                                                  ng-model="paginationOptions.currentPage"
                                                  ng-change="reloadGrid()"
                                                  items-per-page="paginationOptions.itemsPerPage"></grid-pagination>
                                 <md-input-container flex-offset-gt-xs="5" class="items-per-page">
                                     <md-select ng-init="paginationOptions.itemsPerPage = '10'" ng-model="paginationOptions.itemsPerPage" ng-change="reloadGrid()">
                                         <md-option ng-value="10">10</md-option>
                                         <md-option ng-value="25">25</md-option>
                                         <md-option ng-value="50">50</md-option>
                                         <md-option ng-value="75">75</md-option>
                                     </md-select>
                                 </md-input-container>
                             </div>
                         </div>
                       </div>
                     </md-content>
                </md-content>
            </div>
        </div>
    </div>

</md-content>
